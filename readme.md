# OpenTTD in K8s - Helper Functions
__Brought to you by /r/openttd__

This project contains the following Go programs:

* _sidecar_ is a sidecar for extracting bans on a regular basis from a running copy of OpenTTD.
* _banread_ is a small script that (optionally) runs during the startup of the main OpenTTD image to merge bans from the file generated by the sidecar into `openttd.cfg`.
* _bananasync_ is a useful pre-run script that scrapes the config of your server and ensures that any defined NewGRFs are available
## How sidecar Works

This container will regularly poll the openttd.cfg mounted at `/config/openttd.cfg` and write any bans it sees to a flat file in `/config/bans.txt`.

## Using the Sidecar Container
```
docker run -d -v /home/{username}/.openttd:/config:rw redditopenttd/bans-sidecar:latest
```

Please ensure that the directory mounted at /config is the same one that is mounted in your main OpenTTD container (the script polls /config/openttd.cfg for data).

## Using banread

Please see the documentation for the [main image](https://github.com/ropenttd/docker_openttd/blob/master/readme.md).

## Using bananasync
